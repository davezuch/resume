!function(a){function b(a,b,c,d){if("addEventListener"in a)try{a.addEventListener(b,c,d)}catch(e){if("object"!=typeof c||!c.handleEvent)throw e;a.addEventListener(b,function(a){c.handleEvent.call(c,a)},d)}else"attachEvent"in a&&("object"==typeof c&&c.handleEvent?a.attachEvent("on"+b,function(){c.handleEvent.call(c)}):a.attachEvent("on"+b,c))}function c(a,b,c,d){if("removeEventListener"in a)try{a.removeEventListener(b,c,d)}catch(e){if("object"!=typeof c||!c.handleEvent)throw e;a.removeEventListener(b,function(a){c.handleEvent.call(c,a)},d)}else"detachEvent"in a&&("object"==typeof c&&c.handleEvent?a.detachEvent("on"+b,function(){c.handleEvent.call(c)}):a.detachEvent("on"+b,c))}window.MBP=window.MBP||{},MBP.viewportmeta=a.querySelector&&a.querySelector('meta[name="viewport"]'),MBP.ua=navigator.userAgent,MBP.scaleFix=function(){MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)&&(MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",a.addEventListener("gesturestart",MBP.gestureStart,!1))},MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},MBP.BODY_SCROLL_TOP=!1,MBP.getScrollTop=function(){var b=window,c=a;return b.pageYOffset||"CSS1Compat"===c.compatMode&&c.documentElement.scrollTop||c.body.scrollTop||0},MBP.hideUrlBar=function(){var a=window;location.hash||MBP.BODY_SCROLL_TOP===!1||a.scrollTo(0,1===MBP.BODY_SCROLL_TOP?0:1)},MBP.hideUrlBarOnLoad=function(){var a,b=window,c=b.document;!location.hash&&b.addEventListener&&(window.scrollTo(0,1),MBP.BODY_SCROLL_TOP=1,a=setInterval(function(){c.body&&(clearInterval(a),MBP.BODY_SCROLL_TOP=MBP.getScrollTop(),MBP.hideUrlBar())},15),b.addEventListener("load",function(){setTimeout(function(){MBP.getScrollTop()<20&&MBP.hideUrlBar()},0)}))},MBP.fastButton=function(a,b,c){if(this.handler=b,this.pressedClass="undefined"==typeof c?"pressed":c,MBP.listenForGhostClicks(),a.length&&a.length>1)for(var d in a)this.addClickEvent(a[d]);else this.addClickEvent(a)},MBP.fastButton.prototype.handleEvent=function(a){switch(a=a||window.event,a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},MBP.fastButton.prototype.onTouchStart=function(b){var c=b.target||b.srcElement;b.stopPropagation(),c.addEventListener("touchend",this,!1),a.body.addEventListener("touchmove",this,!1),this.startX=b.touches[0].clientX,this.startY=b.touches[0].clientY,c.className+=" "+this.pressedClass},MBP.fastButton.prototype.onTouchMove=function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&this.reset(a)},MBP.fastButton.prototype.onClick=function(a){a=a||window.event;var b=a.target||a.srcElement;a.stopPropagation&&a.stopPropagation(),this.reset(a),this.handler.apply(a.currentTarget,[a]),"touchend"===a.type&&MBP.preventGhostClick(this.startX,this.startY);var c=new RegExp(" ?"+this.pressedClass,"gi");b.className=b.className.replace(c,"")},MBP.fastButton.prototype.reset=function(b){var d=b.target||b.srcElement;c(d,"touchend",this,!1),c(a.body,"touchmove",this,!1);var e=new RegExp(" ?"+this.pressedClass,"gi");d.className=d.className.replace(e,"")},MBP.fastButton.prototype.addClickEvent=function(a){b(a,"touchstart",this,!1),b(a,"click",this,!1)},MBP.preventGhostClick=function(a,b){MBP.coords.push(a,b),window.setTimeout(function(){MBP.coords.splice(0,2)},2500)},MBP.ghostClickHandler=function(a){if(!MBP.hadTouchEvent&&MBP.dodgyAndroid)return a.stopPropagation(),a.preventDefault(),void 0;for(var b=0,c=MBP.coords.length;c>b;b+=2){var d=MBP.coords[b],e=MBP.coords[b+1];Math.abs(a.clientX-d)<25&&Math.abs(a.clientY-e)<25&&(a.stopPropagation(),a.preventDefault())}},MBP.dodgyAndroid="ontouchstart"in window&&-1!==navigator.userAgent.indexOf("Android 2.3"),MBP.listenForGhostClicks=function(){var c=!1;return function(){c||(a.addEventListener&&a.addEventListener("click",MBP.ghostClickHandler,!0),b(a.documentElement,"touchstart",function(){MBP.hadTouchEvent=!0},!1),c=!0)}}(),MBP.coords=[],MBP.autogrow=function(a,b){function c(){var a=this.scrollHeight,b=this.clientHeight;a>b&&(this.style.height=a+3*e+"px")}var d=b?b:12,e=a.currentStyle?a.currentStyle.lineHeight:getComputedStyle(a,null).lineHeight;e=-1===e.indexOf("px")?d:parseInt(e,10),a.style.overflow="hidden",a.addEventListener?a.addEventListener("input",c,!1):a.attachEvent("onpropertychange",c)},MBP.enableActive=function(){a.addEventListener("touchstart",function(){},!1)},MBP.preventScrolling=function(){a.addEventListener("touchmove",function(a){"range"!==a.target.type&&a.preventDefault()},!1)},MBP.preventZoom=function(){for(var b=a.querySelectorAll("input, select, textarea"),c="width=device-width,initial-scale=1,maximum-scale=",d=0,e=b.length,f=function(){MBP.viewportmeta.content=c+"1"},g=function(){MBP.viewportmeta.content=c+"10"};e>d;d++)b[d].onfocus=f,b[d].onblur=g},MBP.startupImage=function(){var b,c,d,e,f,g;d=window.devicePixelRatio,e=a.getElementsByTagName("head")[0],"iPad"===navigator.platform?(b=2===d?"img/startup/startup-tablet-portrait-retina.png":"img/startup/startup-tablet-portrait.png",c=2===d?"img/startup/startup-tablet-landscape-retina.png":"img/startup/startup-tablet-landscape.png",f=a.createElement("link"),f.setAttribute("rel","apple-touch-startup-image"),f.setAttribute("media","screen and (orientation: portrait)"),f.setAttribute("href",b),e.appendChild(f),g=a.createElement("link"),g.setAttribute("rel","apple-touch-startup-image"),g.setAttribute("media","screen and (orientation: landscape)"),g.setAttribute("href",c),e.appendChild(g)):(b=2===d?"img/startup/startup-retina.png":"img/startup/startup.png",b=568===screen.height?"img/startup/startup-retina-4in.png":b,f=a.createElement("link"),f.setAttribute("rel","apple-touch-startup-image"),f.setAttribute("href",b),e.appendChild(f)),navigator.platform.match(/iPhone|iPod/i)&&568===screen.height&&MBP.viewportmeta&&(MBP.viewportmeta.content=MBP.viewportmeta.content.replace(/\bwidth\s*=\s*320\b/,"width=320.1").replace(/\bwidth\s*=\s*device-width\b/,""))}}(document),document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),window.DZ=function(){Array.prototype.each=function(a){for(var b=0,c=this.length;c>b&&!1!==a.call(this[b],b);b++);return this};var a=Array.prototype.slice;return{getId:function(a,b){return(b||document).getElementById(a)},getTags:function(b,c){return a.call((c||document).getElementsByTagName(b),0)},matchOne:function(a,b){return a.each&&a[0]&&"string"==typeof a[0]&&(a=a[0]),"string"==typeof a?/^#[^\s><+~*\[\]]+$/.test(a)?this.getId(a.substr(1)):(b||document).querySelector(a):a.each?a[0]:a},match:function(b,c){return b.each&&b[0]&&"string"==typeof b[0]&&(b=b.join(", ")),"string"==typeof b?/^#[^\s><+~*\[\]]+$/.test(b)?[this.getId(b.substr(1))]:a.call((c||document).querySelectorAll(b),0):b.tagName||b===window||b===document?[b]:b},hasClass:function(a,b){a=this.matchOne(a),b=b.split(" ");for(var c=0,d=b.length,e=!1;d>c;c++)if(a&&-1!==(" "+a.className+" ").indexOf(" "+b[c]+" ")){e=!0;break}return e},removeClass:function(a,b){return a=this.match(a),b=b.split(" "),a.each(function(){if(this&&"className"in this)for(var a=0,c=b.length;c>a;a++)this.className=(" "+this.className+" ").replace(" "+b[a]+" "," ").trim()}),a},addClass:function(a,b){var c=this;return a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,d=b.length;d>a;a++)this&&!c.hasClass(this,b[a])&&(this.className=this.className.trim()+" "+b[a])}),a},toggleClass:function(a,b){var c=this;return a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,d=b.length;d>a;a++)c.hasClass(this,b[a])?c.removeClass(this,b[a]):c.addClass(this,b[a])}),a},addEvent:function(a,b,c){var d=this;a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,e=b.length;e>a;a++)d._addEvent(this,b[a],c)})},_addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c.call(a)})},newStyle:function(a){if(!a||"string"!=typeof a)return!1;var b=document.getElementsByTagName("head")[0],c=document.createElement("style");return c.type="text/css",c.media="screen",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c),c},updateStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()?(a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b)),a):this.newStyle(b)},replaceStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()&&a.parentNode.removeChild(a),this.newStyle(b)}}}(),function(){function a(){function a(){var a=window.scrollY;a>=d?DZ.addClass(document.body,"sticky"):DZ.removeClass(document.body,"sticky")}var b=DZ.matchOne("header div.belt"),c=(b.scrollHeight,DZ.matchOne("header nav")),d=c.offsetTop,e=c.scrollHeight;DZ.newStyle("body.sticky { padding-top: "+e+"px; }"),DZ.addEvent(document,"scroll",a)}function b(a,b){if(a){b=b||400;var c=document.documentElement,d=DZ.matchOne("header").offsetHeight,e=c.scrollTop,f=isNaN(a)?a.offsetTop+d:a,g=(new Date).getTime(),h=setInterval(function(){var a=Math.min(1,((new Date).getTime()-g)/b);c.scrollTop=e+a*(f-e),1===a&&clearInterval(h)},25)}}function c(a){var c=a.target.hash;c&&(a.preventDefault(),b(DZ.matchOne(c)),window.history.pushState&&window.history.pushState({hash:c},c,c))}function d(a){var c=window.location.hash;a.preventDefault(),c?b(DZ.matchOne(c)):b(0)}function e(a){var b=DZ.match(".required",a),c=[];return b.each(function(){return this.value?"email"!==this.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)?void 0:c.push({field:this,msg:"Please enter a valid email address."}):c.push({field:this,msg:"This field is required."})}),c}function f(){if(this.value&&("email"!==this.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value))){var a=this.parentNode;DZ.hasClass(a,"textbelt")&&(a=a.parentNode),DZ.removeClass(a,"error")}}function g(a){var b={name:a.name.value,email:a.email.value,subject:a.subject.value,message:a.message.value},c=new XMLHttpRequest;c.onreadystatechange=function(){console.log("readyState:",c.readyState),4===c.readyState&&(console.log("status:",c.status),200===c.status)},c.open("POST","/send",!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.setRequestHeader("Connection","close"),c.send("data="+encodeURIComponent(JSON.stringify(b)))}function h(a){a.preventDefault();var b=this,c=e(b);DZ.removeClass(DZ.match(".error",b),"error"),c.length?(c.each(function(){DZ.addClass(this.field.parentNode,"error")}),c[0].field.focus()):g(b)}MBP.scaleFix(),MBP.hideUrlBarOnLoad(),MBP.enableActive();var i="orientation"in window;i?DZ.addClass(document.body,"touch"):(DZ.addEvent(document,"DOMContentLoaded",a),DZ.addEvent(window,"load",a)),DZ.addEvent(document.documentElement,"click",c),DZ.addEvent(window,"popstate",d),DZ.match(".textbelt textarea").each(function(){var a=this,b=this.parentNode,c=(this.offsetHeight,function(){var c=a.cloneNode();return c.removeAttribute("name"),c.removeAttribute("id"),DZ.addClass(c,"offscreen"),c.setAttribute("tabIndex","-1"),b.parentNode.insertBefore(c,b),c}()),d=null,e=function(){b.scrollTop=0,c.style.height="",c.value=a.value;var e=c.scrollHeight-3;d!==e&&(d=e,b.style.height=e+"px",c.style.height=e+"px")};DZ.addEvent(a,"keyup keydown change blur",e)}),DZ.addEvent("form","submit",h),DZ.addEvent(".required","keyup change blur",f),DZ.match("h2, h3").each(function(){this.innerHTML=this.innerHTML.replace(/(.)$/,'<span class="last-letter">$1</span>')})}();