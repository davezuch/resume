document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),window.DZ=function(){Array.prototype.each=function(a){for(var b=0,c=this.length;c>b&&!1!==a.call(this[b],b);b++);return this};var a=window,b=a.document,c=b.querySelector&&b.querySelector('meta[name="viewport"]'),d=navigator.userAgent,e=Array.prototype.slice;return{scaleFix:function(){c&&/iPhone|iPad|iPod/.test(d)&&!/Opera Mini/.test(d)&&(c.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",document.addEventListener("gesturestart",this.gestureStart,!1))},gestureStart:function(){c.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},hideUrlBarOnLoad:function(){var c,d=this;!location.hash&&a.addEventListener&&(a.scrollTo(0,1),d.BODY_SCROLL_TOP=1,c=setInterval(function(){b.body&&(clearInterval(c),d.BODY_SCROLL_TOP=d.getScrollTop(),d.hideUrlBar())},15),d.addEvent(a,"load",function(){setTimeout(function(){d.getScrollTop()<20&&d.hideUrlBar()},0)}))},hideUrlBar:function(){location.hash||this.BODY_SCROLL_TOP===!1||a.scrollTo(0,1===this.BODY_SCROLL_TOP?0:1)},getScrollTop:function(){return a.pageYOffset||"CSS1Compat"===b.compatMode&&b.documentElement.scrollTop||b.body.scrollTop||0},enableActive:function(){b.addEventListener("touchstart",function(){},!1)},getId:function(a,b){return(b||document).getElementById(a)},getTags:function(a,b){return e.call((b||document).getElementsByTagName(a),0)},matchOne:function(a,b){return a.each&&a[0]&&"string"==typeof a[0]&&(a=a[0]),"string"==typeof a?/^#[^\s><+~*\[\]]+$/.test(a)?this.getId(a.substr(1)):(b||document).querySelector(a):a.each?a[0]:a},match:function(a,b){return a.each&&a[0]&&"string"==typeof a[0]&&(a=a.join(", ")),"string"==typeof a?/^#[^\s><+~*\[\]]+$/.test(a)?[this.getId(a.substr(1))]:e.call((b||document).querySelectorAll(a),0):a.tagName||a===window||a===document?[a]:a},hasClass:function(a,b){a=this.matchOne(a),b=b.split(" ");for(var c=0,d=b.length,e=!1;d>c;c++)if(a&&-1!==(" "+a.className+" ").indexOf(" "+b[c]+" ")){e=!0;break}return e},removeClass:function(a,b){return a=this.match(a),b=b.split(" "),a.each(function(){if(this&&"className"in this)for(var a=0,c=b.length;c>a;a++)this.className=(" "+this.className+" ").replace(" "+b[a]+" "," ").trim()}),a},addClass:function(a,b){var c=this;return a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,d=b.length;d>a;a++)this&&!c.hasClass(this,b[a])&&(this.className=this.className.trim()+" "+b[a])}),a},toggleClass:function(a,b){var c=this;return a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,d=b.length;d>a;a++)c.hasClass(this,b[a])?c.removeClass(this,b[a]):c.addClass(this,b[a])}),a},addEvent:function(a,b,c){var d=this;a=this.match(a),b=b.split(" "),a.each(function(){for(var a=0,e=b.length;e>a;a++)d._addEvent(this,b[a],c)})},_addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c.call(a)})},newStyle:function(a){if(!a||"string"!=typeof a)return!1;var b=document.getElementsByTagName("head")[0],c=document.createElement("style");return c.type="text/css",c.media="screen",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c),c},updateStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()?(a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b)),a):this.newStyle(b)},replaceStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()&&a.parentNode.removeChild(a),this.newStyle(b)},getStyle:function(a,b){return a=this.matchOne(a),window.getComputedStyle?window.getComputedStyle(a)[b]:a.currentStyle?a.currentStyle[b]:a.style[b]}}}(),function(){function a(){function a(){var a=window.scrollY;a>=d?DZ.addClass(document.body,"sticky"):DZ.removeClass(document.body,"sticky")}var b=DZ.matchOne("header div.belt"),c=(b.scrollHeight,DZ.matchOne("header nav")),d=c.offsetTop,e=c.scrollHeight;DZ.newStyle("body.sticky { padding-top: "+e+"px; }"),DZ.addEvent(document,"scroll",a)}function b(a,b){if(a){b=b||400;var c=document.documentElement,d=DZ.matchOne("header").offsetHeight,e=c.scrollTop,f=isNaN(a)?a.offsetTop+d:a,g=(new Date).getTime(),h=setInterval(function(){var a=Math.min(1,((new Date).getTime()-g)/b);c.scrollTop=e+a*(f-e),1===a&&clearInterval(h)},25)}}function c(a){var c=a.target.hash;c&&(a.preventDefault(),b(DZ.matchOne(c)),window.history.pushState&&window.history.pushState({hash:c},c,c))}function d(a){var c=window.location.hash;a.preventDefault(),c?b(DZ.matchOne(c)):b(0)}function e(a){var b=DZ.match(".required",a),c=[];return b.each(function(){return this.value?"email"!==this.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)?void 0:c.push({field:this,msg:"Please enter a valid email address."}):c.push({field:this,msg:"This field is required."})}),c}function f(){if(this.value&&("email"!==this.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value))){var a=this.parentNode;DZ.hasClass(a,"textbelt")&&(a=a.parentNode),DZ.removeClass(a,"error")}}function g(a){var b=encodeURIComponent(JSON.stringify({name:a.name.value,email:a.email.value,subject:a.subject.value,message:a.message.value})),c=new XMLHttpRequest;return s.indexOf(b)>-1?h("I appreciate your desire to contact me, but the first email sent just fine, no need for another."):(DZ.addClass(m,"on"),c.onreadystatechange=function(){if(console.log("readyState:",c.readyState),4===c.readyState)if(console.log("status:",c.status),DZ.removeClass(m,"on"),200===c.status)s.push(b),h();else{n.innerHTML=['Sorry, there was an error with your submission. Please try again or send an email to: <a href="mailto:resume','davidzuch.me">resume',"davidzuch.me</a>"].join("@"),DZ.removeClass(n,"hide");var a=n.offsetHeight;n.style.height="0",setTimeout(function(){n.style.height=a+"px"},1)}},c.open("POST","/send",!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send("data="+b),void 0)}function h(a){a&&(l=r.innerHTML,r.innerHTML=a),o.each(function(){this.style.left="-100%"}),o[0].style.height=q.offsetHeight+"px",setTimeout(function(){o[0].style.height=p.offsetHeight+"px"},1)}function i(){o.each(function(){this.style.left="0"}),o[0].style.height=p.offsetHeight+"px",setTimeout(function(){o[0].style.height=q.offsetHeight+"px"},1),l&&setTimeout(function(){r.innerHTML=l,l=""},500)}function j(a){a.preventDefault();var b=this,c=e(b);DZ.removeClass(DZ.match(".error",b),"error"),DZ.addClass(n,"hide"),n.innerHTML="",n.style.height="",c.length?(c.each(function(){DZ.addClass(this.field.parentNode,"error")}),c[0].field.focus()):g(b)}DZ.scaleFix(),DZ.hideUrlBarOnLoad(),DZ.enableActive();var k="orientation"in window;k?DZ.addClass(document.body,"touch"):(DZ.addEvent(document,"DOMContentLoaded",a),DZ.addEvent(window,"load",a)),DZ.addEvent(document.documentElement,"click",c),DZ.addEvent(window,"popstate",d),DZ.match(".textbelt textarea").each(function(){var a=this,b=this.parentNode,c=(this.offsetHeight,function(){var c=a.cloneNode();return c.removeAttribute("name"),c.removeAttribute("id"),DZ.addClass(c,"offscreen"),c.setAttribute("tabIndex","-1"),b.parentNode.insertBefore(c,b),c}()),d=null,e=function(){b.scrollTop=0,c.style.height="",c.value=a.value;var e=c.scrollHeight-3;d!==e&&(d=e,b.style.height=e+"px",c.style.height=e+"px")};DZ.addEvent(a,"keyup keydown change blur",e)});var l,m=DZ.getId("loader"),n=DZ.getId("form-error"),o=DZ.match(".pan"),p=DZ.getId("thanks"),q=DZ.getId("draft"),r=DZ.matchOne("p",p),s=[];DZ.addEvent("form","submit",j),DZ.addEvent(".required","keyup change blur",f),DZ.addEvent("#return","click",i),DZ.match("h2, h3").each(function(){this.innerHTML=this.innerHTML.replace(/(.)$/,'<span class="last-letter">$1</span>')})}();