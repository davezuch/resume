document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),window.deez=function(){var a=window,b=a.document,c=navigator.userAgent,d=Array.prototype.slice,e=b.querySelector('meta[name="viewport"]'),f=c.match(/webkit/i)?b.body:b.documentElement,g=!1,h=function(){},i=function(a,b){return new i.fn.init(a,b)};i.fn=i.prototype={constructor:i,length:0,on:function(a,b,c){return i.on(this,a,b,c),this},each:function(a){return i.each(this,a)},hasClass:function(a){return i.hasClass(this,a)},removeClass:function(a){return i.removeClass(this,a)},addClass:function(a){return i.addClass(this,a)},toggleClass:function(a){return i.toggleClass(this,a)},extend:function(a){return i.extend(this,a),this},get:function(a){return this[a]},prop:function(a){return this[0]&&this[0][a]},attr:function(a,b){if("object"==typeof a){for(var c in a)this.attr(c,a[c]);return this}return void 0!==b?(b?this[0]&&this[0].setAttribute(a,b):this[0]&&this[0].removeAttribute(a),this):this[0]&&this[0].getAttribute(a)},scrollPage:function(a,b){return i.scrollPage(this,a,b),this},html:function(a){return void 0!==a?(this.each(function(){this.innerHTML=a}),this):this[0]&&this[0].innerHTML},style:function(a,b){if("object"==typeof a){for(var c in a)this.style(c,a[c]);return this}return void 0!==b?(this.each(function(){this.style[a]=b}),this):i.getStyle(this,a)}};var j=i.fn.init=function(c,e){if(!c)return this;if(c instanceof i)return c;e&&e instanceof i&&(e=e[0]);var f;return Array.isArray(c)&&c[0]&&"string"==typeof c[0]&&(c=c.join(", ")),"string"==typeof c?f=/^#[^\s><+~*\[\]]+$/.test(c)?[i.matchId(c.substr(1),e)]:/^\w+[A-Za-z0-9]?$/.test(c)?i.matchTags(c,e):d.call((e||b).querySelectorAll(c),0):(c.tagName||c===a||c===b)&&(f=[c]),this.length=f&&f.length,this.extend(Object(f)),this},k={UA:c,scrollEl:f,on:function(a,b,c,d){var e=this,f=a instanceof i?a:i(a);b=b.split(" "),f.each(function(){for(var a=0,f=b.length;f>a;a++)e._addEvent(this,b[a],c,d)})},_addEvent:function(a,b,c,d){d=d||b,a.addEventListener?a.addEventListener(b,function(a){c.call(d,a)},!1):a.attachEvent&&a.attachEvent("on"+b,function(){c.call(d,window.event)})},each:function(a,b){for(var c=0,d=a.length;d>c&&!1!==b.call(a[c],c);c++);return a},matchId:function(a,c){return c&&c instanceof i&&(c=c[0]),(c||b).getElementById(a)},matchTags:function(a,c){return c&&c instanceof i&&(c=c[0]),d.call((c||b).getElementsByTagName(a),0)},matchTag:function(a,b){return b&&b instanceof i&&(b=b[0]),this.matchTags(a,b)[0]},hasClass:function(a,b){var c=a instanceof i?a:i(a),d=!1;return b=b.split(" "),c.each(function(){for(var a=0,c=b.length;c>a;a++)if(-1!==(" "+this.className+" ").indexOf(" "+b[a]+" ")){d=!0;break}return d?!1:void 0}),d},removeClass:function(a,b){var c=a instanceof i?a:i(a);return b=b.split(" "),c.each(function(){if("className"in this&&this.className)for(var a=0,c=b.length;c>a;a++)this.className=(" "+this.className+" ").replace(" "+b[a]+" "," ").trim()}),c},addClass:function(a,b){var c=this,d=a instanceof i?a:i(a);return b=b.split(" "),d.each(function(){for(var a=0,d=b.length;d>a;a++)c.hasClass(this,b[a])||(this.className=this.className.trim()+" "+b[a])}),d},toggleClass:function(a,b){var c=this,d=a instanceof i?a:i(a);return b=b.split(" "),d.each(function(){for(var a=0,d=b.length;d>a;a++){var e=b[a];c.hasClass(this,e)?c.removeClass(this,e):c.addClass(this,e)}}),d},getStyle:function(b,c){var d=(b instanceof i?b:i(b))[0];return a.getComputedStyle?a.getComputedStyle(d)[c]:d.currentStyle?d.currentStyle[c]:d.style[c]},extend:function(a,b){if(a&&b)for(var c in b)a[c]=b[c]},bind:function(a,b){var c,e,f=Function.prototype.bind;if(f&&a.bind===f)return f.apply(a,d.call(arguments,1));if("function"!=typeof a)throw new TypeError;return c=d.call(arguments,2),e=function(){if(!(this instanceof e))return a.apply(b,c.concat(d.call(arguments)));h.prototype=a.prototype;var f=new h;h.prototype=null;var g=a.apply(f,c.concat(d.call(arguments)));return Object(g)===g?g:f}},bindAll:function(a){var b=this,c=d.call(arguments,1);if(!c.length)throw new Error("bindAll must be passed funciton names");return this.each(c,function(){a[this]=b.bind(a[this],a)}),a},newStyle:function(a){if(!a||"string"!=typeof a)return!1;var c=this,d=i("head")[0],e=b.createElement("style");return e.type="text/css",e.media="screen",e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a)),d.appendChild(e),e.update=function(a){c.updateStyle(this,a)},e},updateStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()?(a.styleSheet?a.styleSheet.cssText+=b:a.appendChild(document.createTextNode(b)),a):this.newStyle(b)},replaceStyle:function(a,b){return a&&"style"===a.tagName.toLowerCase()||a.parentNode.removeChild(a),this.newStyle(b)},scrollPage:function(a,b,c){if(a){!b&&isNaN(b)&&this.scrollOffset&&(b=this.scrollOffset),b=b&&isNaN(b)?i(b).prop("offsetHeight"):b||0,a=isNaN(a)?i(a).prop("offsetTop")+b:a,c=c||500;var d=f.scrollTop,e=(new Date).getTime(),g=setInterval(function(){var b=Math.min(1,((new Date).getTime()-e)/c);f.scrollTop=d+b*(a-d),1===b&&clearInterval(g)},25)}},setScrollOffset:function(a){this.scrollOffset=a},scaleFix:function(){e&&/iPhone|iPad|iPod/.test(c)&&!/Opera Mini/.test(c)&&(e.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",b.addEventListener("gesturestart",this.gestureStart,!1))},gestureStart:function(){e.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},hideUrlBarOnLoad:function(){var c,d=this;!location.hash&&a.addEventListener&&(a.scrollTo(0,1),g=1,c=setInterval(function(){b.body&&(clearInterval(c),g=d.getScrollTop(),d.hideUrlBar())},15),d.on(a,"load",function(){setTimeout(function(){d.getScrollTop()<20&&d.hideUrlBar()},0)}))},hideUrlBar:function(){location.hash||g===!1||a.scrollTo(0,1===g?0:1)},getScrollTop:function(){return a.pageYOffset||"CSS1Compat"===b.compatMode&&b.documentElement.scrollTop||b.body.scrollTop||0},enableActive:function(){b.addEventListener("touchstart",h,!1)},serialize:function(a){var b=[];for(var c in a)b.push(c+"="+a[c]);return b.join("&")},initMobileFixes:function(){this.scaleFix(),this.hideUrlBarOnLoad(),this.enableActive()}};return j.prototype=i.fn,k.extend(i,k),i}(),Modernizr.addTest("backgroundclip",function(){var a=document.createElement("div");return"webkitBackgroundClip"in a.style?!0:void"Webkit Moz O ms Khtml".replace(/([A-Za-z]*)/g,function(b){return b+"BackgroundClip"in a.style?!0:void 0})}),function(){var a,b=deez,c=window,d=window.document,e=b.scrollEl,f=b("#nav-belt"),g=!1,h=b("#form-error"),i=b(".pan"),j=b("#thanks"),k=b("#draft"),l=b("p",j),m=[],n=function(){b.initMobileFixes(),b.setScrollOffset("header"),b.bindAll(this,"fixNav","onBodyClick","onPopState","showNav","onSubmit","liftError","showForm"),b.on(d,"DOMContentLoaded",this.fixNav),b.on(c,"load",this.fixNav),b.on(d.body,"click touchend",this.onBodyClick),b.on(c,"popstate",this.onPopState),b("#nav-toggle").on("click",this.showNav),b("form").on("submit",this.onSubmit),b(".required").on("keyup change blur",this.liftError),b("#return").on("click",this.showForm),this.fixHeaders(),this.initFlexText(),this.$formErr=h};n.prototype={fixNav:function(){var a=b.matchId("toc"),c=a.offsetTop,f=a.scrollHeight,g=(b.newStyle("body.sticky, html.sticky body { padding-top: "+f+"px; }"),function(){var a=e.scrollTop;a>=c?b.addClass(e,"sticky"):b.removeClass(e,"sticky")});b.on(d,"scroll",g)},showNav:function(){f.addClass("show"),g=!0},hideNav:function(){f.removeClass("show"),g=!1},onBodyClick:function(a){g&&"nav-toggle"!==a.target.id&&this.hideNav();var d=a.target.hash;d&&(a.preventDefault(),b(d).scrollPage(),c.history.pushState&&c.history.pushState({hash:d},d,d))},onPopState:function(a){a.preventDefault();var d=c.location.hash;d?b(d).scrollPage():b.scrollPage(0)},fixHeaders:function(){b("h2, h3").each(function(){this.innerHTML=this.innerHTML.replace(/(.)$/,'<span class="last-letter">$1</span>')})},initFlexText:function(){b(".textbelt textarea").each(function(){var a=this,c=this.parentNode,d=function(){var d=a.cloneNode(),e=b(d);return e.attr({name:"",id:"",tabIndex:"-1"}),e.addClass("offscreen"),c.parentNode.insertBefore(d,c),d}(),e=null,f=function(){c.scrollTop=0,d.style.height="",d.value=a.value;var b=d.scrollHeight-3;e!==b&&(e=b,c.style.height=b+"px",d.style.height=b+"px")};b.on(a,"keyup keydown change blur",f)})},validate:function(a){var c=b(".required",a),d=[];return c.each(function(){return this.value?"email"!==this.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)?void 0:d.push({field:this,msg:"Please enter a valid email address."}):d.push({field:this,msg:"This field is required."})}),d},liftError:function(a){var c=a.target;if(c.value&&("email"!==c.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.value))){var d=c.parentNode;b.hasClass(d,"textbelt")&&(d=d.parentNode),b.removeClass(d,"error")}},sendEmail:function(a){var c=this,d=encodeURIComponent(JSON.stringify({name:a.name.value,email:a.email.value,subject:a.subject.value,message:a.message.value})),e=new XMLHttpRequest,f=b("#loader");return m.indexOf(d)>-1?this.showThanks("I appreciate your enthusiasm to reach me, but the first email sent succesfully, there's no need for a duplicate. :)"):(f.addClass("on"),e.onreadystatechange=function(){if(4===e.readyState)if(f.removeClass("on"),200===e.status)m.push(d),c.showThanks();else{h.html(['Sorry, there was an error with your submission. Please try again or send an email to: <a href="mailto:resume','davidzuch.me">resume',"davidzuch.me</a>"].join("@")).removeClass("hide");var a=h.prop("offsetHeight");h.style("height","0"),setTimeout(function(){h.style("height",a+"px")},1)}},e.open("POST","/send",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void e.send("data="+d))},showThanks:function(b){b&&(a=l.html(),l.html(b)),i.style("left","-100%"),i[0].style.height=k.prop("offsetHeight")+"px",setTimeout(function(){i[0].style.height=j.prop("offsetHeight")+"px"},1)},showForm:function(){i.style("left","0"),i[0].style.height=j.prop("offsetHeight")+"px",setTimeout(function(){i[0].style.height=k.prop("offsetHeight")+"px"},1),setTimeout(function(){i[0].style.height=""},500),a&&setTimeout(function(){l.html(a),a=""},500)},onSubmit:function(a){console.log(b,h),a.preventDefault();var c=a.target,d=this.validate(c);b(".error",c).removeClass("error"),h.addClass("hide").html("").style("height",""),d.length?(b.each(d,function(){b.addClass(this.field.parentNode,"error")}),d[0].field.focus()):this.sendEmail(c)}},new n}();
//# sourceMappingURL=scripts.min.map